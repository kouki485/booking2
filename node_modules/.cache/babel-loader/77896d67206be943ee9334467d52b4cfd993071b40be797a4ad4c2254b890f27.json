{"ast":null,"code":"var _jsxFileName = \"/Users/koukikaida/Desktop/booking/src/components/booking/BookingForm.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useBookings } from '../../hooks/useBookings';\nimport { ChevronLeftIcon, ChevronRightIcon, XMarkIcon } from '@heroicons/react/24/outline';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst BookingForm = () => {\n  _s();\n  const [step, setStep] = useState(1); // 1: 日程選択, 2: 情報入力, 3: 確認, 4: 完了\n  const [currentWeek, setCurrentWeek] = useState(new Date());\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [selectedTime, setSelectedTime] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [bookingResult, setBookingResult] = useState(null);\n  const [bookingStatuses, setBookingStatuses] = useState({});\n  const {\n    addBooking,\n    getBookingStatus: getBookingStatusAPI,\n    loading,\n    error,\n    clearError\n  } = useBookings();\n  const {\n    register,\n    handleSubmit,\n    formState: {\n      errors\n    },\n    reset\n  } = useForm();\n\n  // 週の日付を生成\n  const generateWeekDates = startDate => {\n    const dates = [];\n    const start = new Date(startDate);\n    const day = start.getDay();\n    const diff = start.getDate() - day + (day === 0 ? -6 : 1); // 月曜日を開始日に\n    start.setDate(diff);\n    for (let i = 0; i < 7; i++) {\n      const date = new Date(start);\n      date.setDate(start.getDate() + i);\n      dates.push(date);\n    }\n    return dates;\n  };\n  const weekDates = generateWeekDates(currentWeek);\n\n  // 曜日の名前を取得\n  const getDayName = date => {\n    const days = ['日', '月', '火', '水', '木', '金', '土'];\n    return days[date.getDay()];\n  };\n\n  // 時間スロットを生成\n  const timeSlots = ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00'];\n\n  // 予約状況を取得\n  useEffect(() => {\n    const loadBookingStatuses = async () => {\n      const statuses = {};\n      for (const date of weekDates) {\n        const dateStr = date.toISOString().split('T')[0];\n        statuses[dateStr] = {};\n        for (const time of timeSlots) {\n          try {\n            const status = await getBookingStatusAPI(date, time);\n            statuses[dateStr][time] = status;\n          } catch (error) {\n            console.error('予約状況取得エラー:', error);\n            statuses[dateStr][time] = 'available';\n          }\n        }\n      }\n      setBookingStatuses(statuses);\n    };\n    loadBookingStatuses();\n  }, [currentWeek, getBookingStatusAPI]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // 週の表示テキストを生成\n  const getWeekText = dates => {\n    const start = dates[0];\n    const end = dates[6];\n    const startMonth = start.getMonth() + 1;\n    const startDay = start.getDate();\n    const endMonth = end.getMonth() + 1;\n    const endDay = end.getDate();\n    return `${start.getFullYear()}-${startMonth.toString().padStart(2, '0')}-${startDay.toString().padStart(2, '0')} ~ ${end.getFullYear()}-${endMonth.toString().padStart(2, '0')}-${endDay.toString().padStart(2, '0')}`;\n  };\n\n  // 前の週へ移動\n  const goToPreviousWeek = () => {\n    const newWeek = new Date(currentWeek);\n    newWeek.setDate(currentWeek.getDate() - 7);\n    setCurrentWeek(newWeek);\n  };\n\n  // 次の週へ移動\n  const goToNextWeek = () => {\n    const newWeek = new Date(currentWeek);\n    newWeek.setDate(currentWeek.getDate() + 7);\n    setCurrentWeek(newWeek);\n  };\n\n  // 日時選択ハンドラ\n  const handleTimeSlotClick = (date, time) => {\n    setSelectedDate(date);\n    setSelectedTime(time);\n  };\n\n  // 次のステップへ進む\n  const goToNextStep = () => {\n    if (step === 1 && selectedDate && selectedTime) {\n      setStep(2);\n    }\n  };\n\n  // 前のステップに戻る\n  const goToPreviousStep = () => {\n    if (step > 1) {\n      setStep(step - 1);\n    }\n  };\n\n  // フォーム送信\n  const onSubmit = async data => {\n    if (!selectedDate || !selectedTime) return;\n    setIsSubmitting(true);\n    const bookingData = {\n      date: selectedDate.toISOString().split('T')[0],\n      time: selectedTime,\n      customerName: data.customerName.trim()\n    };\n    try {\n      const result = await addBooking(bookingData);\n      if (result.success) {\n        setBookingResult({\n          success: true,\n          bookingId: result.id,\n          ...bookingData\n        });\n        setStep(4);\n      } else {\n        setBookingResult({\n          success: false,\n          error: result.error\n        });\n      }\n    } catch (error) {\n      setBookingResult({\n        success: false,\n        error: '予約の作成に失敗しました'\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // 最初からやり直し\n  const handleRestart = () => {\n    setStep(1);\n    setSelectedDate(null);\n    setSelectedTime(null);\n    setBookingResult(null);\n    reset();\n    clearError();\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b border-gray-200 px-4 py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-lg font-medium text-gray-900\",\n          children: \"\\u4E88\\u7D04\\u30DA\\u30FC\\u30B8\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"p-2\",\n          children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n            className: \"w-6 h-6 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border-b border-gray-200 px-4 py-3\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"flex items-center text-sm text-gray-600 bg-gray-100 rounded-full px-3 py-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n            className: \"w-4 h-4 mr-1\",\n            fill: \"none\",\n            stroke: \"currentColor\",\n            viewBox: \"0 0 24 24\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 13\n          }, this), \"\\u4E88\\u7D04\\u5C65\\u6B74\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 191,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white px-4 py-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-8\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 rounded-full flex items-center justify-center ${step >= 1 ? 'bg-green-500' : 'bg-gray-300'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 206,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs mt-1 ${step >= 1 ? 'text-green-600 font-medium' : 'text-gray-500'}`,\n              children: \"\\u4E88\\u7D04\\u65E5\\u7A0B\\u9078\\u629E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 rounded-full flex items-center justify-center ${step >= 2 ? 'bg-green-500' : 'bg-gray-300'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs mt-1 ${step >= 2 ? 'text-green-600 font-medium' : 'text-gray-500'}`,\n              children: \"\\u60C5\\u5831\\u5165\\u529B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 rounded-full flex items-center justify-center ${step >= 3 ? 'bg-green-500' : 'bg-gray-300'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs mt-1 ${step >= 3 ? 'text-green-600 font-medium' : 'text-gray-500'}`,\n              children: \"\\u78BA\\u8A8D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col items-center\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: `w-8 h-8 rounded-full flex items-center justify-center ${step >= 4 ? 'bg-green-500' : 'bg-gray-300'}`,\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-white rounded-full\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 248,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: `text-xs mt-1 ${step >= 4 ? 'text-green-600 font-medium' : 'text-gray-500'}`,\n              children: \"\\u5B8C\\u4E86\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"px-4 pb-20\",\n      children: [step === 1 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-green-500 text-white rounded-lg px-4 py-3 flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: goToPreviousWeek,\n            className: \"p-1\",\n            children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 267,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-medium\",\n            children: getWeekText(weekDates)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: goToNextWeek,\n            className: \"p-1\",\n            children: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n              className: \"w-5 h-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 272,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-8 border-b border-gray-200\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 17\n            }, this), weekDates.map((date, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `p-3 text-center border-r border-gray-200 last:border-r-0 ${date.getDay() === 6 ? 'bg-blue-50' : date.getDay() === 0 ? 'bg-red-50' : 'bg-gray-50'}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-xs font-medium ${date.getDay() === 6 ? 'text-blue-600' : date.getDay() === 0 ? 'text-red-600' : 'text-gray-600'}`,\n                children: getDayName(date)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 290,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `text-lg font-bold mt-1 ${date.getDay() === 6 ? 'text-blue-600' : date.getDay() === 0 ? 'text-red-600' : 'text-gray-900'}`,\n                children: date.getDate()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 297,\n                columnNumber: 21\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 19\n            }, this))]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 15\n          }, this), timeSlots.map((time, timeIndex) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-8 border-b border-gray-200 last:border-b-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 text-center font-medium text-gray-600 bg-gray-50 border-r border-gray-200\",\n              children: time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this), weekDates.map((date, dateIndex) => {\n              var _bookingStatuses$date;\n              const dateStr = date.toISOString().split('T')[0];\n              const status = ((_bookingStatuses$date = bookingStatuses[dateStr]) === null || _bookingStatuses$date === void 0 ? void 0 : _bookingStatuses$date[time]) || 'available';\n              const isSelected = selectedDate && selectedTime && selectedDate.toDateString() === date.toDateString() && selectedTime === time;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleTimeSlotClick(date, time),\n                className: `p-3 border-r border-gray-200 last:border-r-0 flex items-center justify-center ${isSelected ? 'bg-green-500' : 'hover:bg-gray-50'}`,\n                disabled: status === 'unavailable' || status === 'full',\n                children: status === 'available' || status === 'partial' ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `w-8 h-8 rounded-full border-2 flex items-center justify-center ${isSelected ? 'bg-white border-white' : 'border-green-500'}`,\n                  children: isSelected && /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"w-4 h-4 bg-green-500 rounded-full\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 45\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 331,\n                  columnNumber: 28\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"w-8 h-8 flex items-center justify-center\",\n                  children: /*#__PURE__*/_jsxDEV(XMarkIcon, {\n                    className: \"w-5 h-5 text-gray-400\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 338,\n                    columnNumber: 30\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 28\n                }, this)\n              }, `${dateIndex}-${timeIndex}`, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 24\n              }, this);\n            })]\n          }, time, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 17\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 277,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-lg font-medium mb-4\",\n            children: \"\\u304A\\u5BA2\\u69D8\\u60C5\\u5831\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 354,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-800\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-medium\",\n                children: [\"\\uD83D\\uDCC5 \", selectedDate === null || selectedDate === void 0 ? void 0 : selectedDate.toLocaleDateString('ja-JP', {\n                  year: 'numeric',\n                  month: 'long',\n                  day: 'numeric',\n                  weekday: 'short'\n                })]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm mt-1\",\n                children: [\"\\uD83D\\uDD50 \", selectedTime]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 358,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit(onSubmit),\n            className: \"space-y-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-2\",\n                children: [\"\\u304A\\u540D\\u524D \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"text-red-500\",\n                  children: \"*\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                ...register('customerName', {\n                  required: 'お名前を入力してください',\n                  minLength: {\n                    value: 1,\n                    message: 'お名前を入力してください'\n                  },\n                  maxLength: {\n                    value: 50,\n                    message: 'お名前は50文字以内で入力してください'\n                  }\n                }),\n                className: \"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\",\n                placeholder: \"\\u5C71\\u7530 \\u592A\\u90CE\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), errors.customerName && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"text-red-500 text-xs mt-1\",\n                children: errors.customerName.message\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 389,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 374,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 373,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 353,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 11\n      }, this), step === 4 && bookingResult && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg p-6 text-center\",\n          children: bookingResult.success ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-green-600 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-16 h-16 mx-auto\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M5 13l4 4L19 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 406,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 405,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"\\u4E88\\u7D04\\u304C\\u5B8C\\u4E86\\u3057\\u307E\\u3057\\u305F\\uFF01\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-green-800\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"font-medium\",\n                  children: [\"\\uD83D\\uDCC5 \", selectedDate === null || selectedDate === void 0 ? void 0 : selectedDate.toLocaleDateString('ja-JP', {\n                    year: 'numeric',\n                    month: 'long',\n                    day: 'numeric',\n                    weekday: 'short'\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm mt-1\",\n                  children: [\"\\uD83D\\uDD50 \", selectedTime]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 421,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm mt-1\",\n                  children: [\"\\uD83D\\uDC64 \", bookingResult.customerName]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 422,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 411,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-gray-600 text-sm mb-4\",\n              children: [\"\\u4E88\\u7D04\\u304C\\u78BA\\u5B9A\\u3044\\u305F\\u3057\\u307E\\u3057\\u305F\\u3002\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 426,\n                columnNumber: 33\n              }, this), \"\\u5F53\\u65E5\\u306F\\u6642\\u9593\\u306B\\u4F59\\u88D5\\u3092\\u6301\\u3063\\u3066\\u304A\\u8D8A\\u3057\\u304F\\u3060\\u3055\\u3044\\u3002\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 425,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-red-600 mb-4\",\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                className: \"w-16 h-16 mx-auto\",\n                fill: \"none\",\n                stroke: \"currentColor\",\n                viewBox: \"0 0 24 24\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: 2,\n                  d: \"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 434,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 433,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 432,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-bold mb-4\",\n              children: \"\\u4E88\\u7D04\\u306B\\u5931\\u6557\\u3057\\u307E\\u3057\\u305F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 437,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-600 text-sm mb-4\",\n              children: bookingResult.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 438,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 402,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 401,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4\",\n      children: [step === 1 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: goToNextStep,\n        disabled: !selectedDate || !selectedTime,\n        className: `w-full py-3 rounded-lg font-medium ${selectedDate && selectedTime ? 'bg-green-500 text-white hover:bg-green-600' : 'bg-gray-300 text-gray-500 cursor-not-allowed'}`,\n        children: \"\\u6B21\\u3078\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 449,\n        columnNumber: 11\n      }, this), step === 2 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToPreviousStep,\n          className: \"flex-1 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50\",\n          children: \"\\u623B\\u308B\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 464,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSubmit(onSubmit),\n          disabled: isSubmitting,\n          className: \"flex-1 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 disabled:opacity-50\",\n          children: isSubmitting ? '予約中...' : '予約する'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 470,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 463,\n        columnNumber: 11\n      }, this), step === 4 && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleRestart,\n        className: \"w-full py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600\",\n        children: \"\\u65B0\\u3057\\u3044\\u4E88\\u7D04\\u3092\\u4F5C\\u6210\\u3059\\u308B\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 481,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n};\n_s(BookingForm, \"FOXugdNtIk1j/xzsveaiFpKHIBw=\", false, function () {\n  return [useBookings, useForm];\n});\n_c = BookingForm;\nexport default BookingForm;\nvar _c;\n$RefreshReg$(_c, \"BookingForm\");","map":{"version":3,"names":["React","useState","useEffect","useForm","useBookings","ChevronLeftIcon","ChevronRightIcon","XMarkIcon","jsxDEV","_jsxDEV","Fragment","_Fragment","BookingForm","_s","step","setStep","currentWeek","setCurrentWeek","Date","selectedDate","setSelectedDate","selectedTime","setSelectedTime","isSubmitting","setIsSubmitting","bookingResult","setBookingResult","bookingStatuses","setBookingStatuses","addBooking","getBookingStatus","getBookingStatusAPI","loading","error","clearError","register","handleSubmit","formState","errors","reset","generateWeekDates","startDate","dates","start","day","getDay","diff","getDate","setDate","i","date","push","weekDates","getDayName","days","timeSlots","loadBookingStatuses","statuses","dateStr","toISOString","split","time","status","console","getWeekText","end","startMonth","getMonth","startDay","endMonth","endDay","getFullYear","toString","padStart","goToPreviousWeek","newWeek","goToNextWeek","handleTimeSlotClick","goToNextStep","goToPreviousStep","onSubmit","data","bookingData","customerName","trim","result","success","bookingId","id","handleRestart","className","children","fileName","_jsxFileName","lineNumber","columnNumber","fill","stroke","viewBox","strokeLinecap","strokeLinejoin","strokeWidth","d","onClick","map","index","timeIndex","dateIndex","_bookingStatuses$date","isSelected","toDateString","disabled","toLocaleDateString","year","month","weekday","type","required","minLength","value","message","maxLength","placeholder","_c","$RefreshReg$"],"sources":["/Users/koukikaida/Desktop/booking/src/components/booking/BookingForm.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { useBookings } from '../../hooks/useBookings';\nimport { \n  ChevronLeftIcon, \n  ChevronRightIcon, \n  XMarkIcon \n} from '@heroicons/react/24/outline';\n\nconst BookingForm = () => {\n  const [step, setStep] = useState(1); // 1: 日程選択, 2: 情報入力, 3: 確認, 4: 完了\n  const [currentWeek, setCurrentWeek] = useState(new Date());\n  const [selectedDate, setSelectedDate] = useState(null);\n  const [selectedTime, setSelectedTime] = useState(null);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [bookingResult, setBookingResult] = useState(null);\n  const [bookingStatuses, setBookingStatuses] = useState({});\n\n  const { addBooking, getBookingStatus: getBookingStatusAPI, loading, error, clearError } = useBookings();\n  \n  const { \n    register, \n    handleSubmit, \n    formState: { errors }, \n    reset \n  } = useForm();\n\n  // 週の日付を生成\n  const generateWeekDates = (startDate) => {\n    const dates = [];\n    const start = new Date(startDate);\n    const day = start.getDay();\n    const diff = start.getDate() - day + (day === 0 ? -6 : 1); // 月曜日を開始日に\n    start.setDate(diff);\n    \n    for (let i = 0; i < 7; i++) {\n      const date = new Date(start);\n      date.setDate(start.getDate() + i);\n      dates.push(date);\n    }\n    return dates;\n  };\n\n  const weekDates = generateWeekDates(currentWeek);\n\n  // 曜日の名前を取得\n  const getDayName = (date) => {\n    const days = ['日', '月', '火', '水', '木', '金', '土'];\n    return days[date.getDay()];\n  };\n\n  // 時間スロットを生成\n  const timeSlots = ['10:00', '11:00', '12:00', '13:00', '14:00', '15:00', '16:00', '17:00', '18:00'];\n\n  // 予約状況を取得\n  useEffect(() => {\n    const loadBookingStatuses = async () => {\n      const statuses = {};\n      \n      for (const date of weekDates) {\n        const dateStr = date.toISOString().split('T')[0];\n        statuses[dateStr] = {};\n        \n        for (const time of timeSlots) {\n          try {\n            const status = await getBookingStatusAPI(date, time);\n            statuses[dateStr][time] = status;\n          } catch (error) {\n            console.error('予約状況取得エラー:', error);\n            statuses[dateStr][time] = 'available';\n          }\n        }\n      }\n      \n      setBookingStatuses(statuses);\n    };\n\n    loadBookingStatuses();\n  }, [currentWeek, getBookingStatusAPI]); // eslint-disable-line react-hooks/exhaustive-deps\n\n  // 週の表示テキストを生成\n  const getWeekText = (dates) => {\n    const start = dates[0];\n    const end = dates[6];\n    const startMonth = start.getMonth() + 1;\n    const startDay = start.getDate();\n    const endMonth = end.getMonth() + 1;\n    const endDay = end.getDate();\n    \n    return `${start.getFullYear()}-${startMonth.toString().padStart(2, '0')}-${startDay.toString().padStart(2, '0')} ~ ${end.getFullYear()}-${endMonth.toString().padStart(2, '0')}-${endDay.toString().padStart(2, '0')}`;\n  };\n\n  // 前の週へ移動\n  const goToPreviousWeek = () => {\n    const newWeek = new Date(currentWeek);\n    newWeek.setDate(currentWeek.getDate() - 7);\n    setCurrentWeek(newWeek);\n  };\n\n  // 次の週へ移動\n  const goToNextWeek = () => {\n    const newWeek = new Date(currentWeek);\n    newWeek.setDate(currentWeek.getDate() + 7);\n    setCurrentWeek(newWeek);\n  };\n\n  // 日時選択ハンドラ\n  const handleTimeSlotClick = (date, time) => {\n    setSelectedDate(date);\n    setSelectedTime(time);\n  };\n\n  // 次のステップへ進む\n  const goToNextStep = () => {\n    if (step === 1 && selectedDate && selectedTime) {\n      setStep(2);\n    }\n  };\n\n  // 前のステップに戻る\n  const goToPreviousStep = () => {\n    if (step > 1) {\n      setStep(step - 1);\n    }\n  };\n\n  // フォーム送信\n  const onSubmit = async (data) => {\n    if (!selectedDate || !selectedTime) return;\n\n    setIsSubmitting(true);\n    \n    const bookingData = {\n      date: selectedDate.toISOString().split('T')[0],\n      time: selectedTime,\n      customerName: data.customerName.trim()\n    };\n\n    try {\n      const result = await addBooking(bookingData);\n      \n      if (result.success) {\n        setBookingResult({\n          success: true,\n          bookingId: result.id,\n          ...bookingData\n        });\n        setStep(4);\n      } else {\n        setBookingResult({\n          success: false,\n          error: result.error\n        });\n      }\n    } catch (error) {\n      setBookingResult({\n        success: false,\n        error: '予約の作成に失敗しました'\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  // 最初からやり直し\n  const handleRestart = () => {\n    setStep(1);\n    setSelectedDate(null);\n    setSelectedTime(null);\n    setBookingResult(null);\n    reset();\n    clearError();\n  };\n\n\n\n  return (\n    <div className=\"min-h-screen bg-gray-50\">\n      {/* ヘッダー */}\n      <div className=\"bg-white border-b border-gray-200 px-4 py-3\">\n        <div className=\"flex items-center justify-between\">\n          <h1 className=\"text-lg font-medium text-gray-900\">予約ページ</h1>\n          <button className=\"p-2\">\n            <XMarkIcon className=\"w-6 h-6 text-gray-400\" />\n          </button>\n        </div>\n      </div>\n\n      {/* 予約履歴ボタン */}\n      <div className=\"bg-white border-b border-gray-200 px-4 py-3\">\n        <div className=\"flex justify-end\">\n          <button className=\"flex items-center text-sm text-gray-600 bg-gray-100 rounded-full px-3 py-1\">\n            <svg className=\"w-4 h-4 mr-1\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 10h10a8 8 0 018 8v2M3 10l6 6m-6-6l6-6\" />\n            </svg>\n            予約履歴\n          </button>\n        </div>\n      </div>\n\n      {/* ステップインジケーター */}\n      <div className=\"bg-white px-4 py-6\">\n        <div className=\"flex items-center justify-between mb-4\">\n          <div className=\"flex items-center space-x-8\">\n            <div className=\"flex flex-col items-center\">\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                step >= 1 ? 'bg-green-500' : 'bg-gray-300'\n              }`}>\n                <div className=\"w-3 h-3 bg-white rounded-full\"></div>\n              </div>\n              <span className={`text-xs mt-1 ${\n                step >= 1 ? 'text-green-600 font-medium' : 'text-gray-500'\n              }`}>\n                予約日程選択\n              </span>\n            </div>\n            \n            <div className=\"flex flex-col items-center\">\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                step >= 2 ? 'bg-green-500' : 'bg-gray-300'\n              }`}>\n                <div className=\"w-3 h-3 bg-white rounded-full\"></div>\n              </div>\n              <span className={`text-xs mt-1 ${\n                step >= 2 ? 'text-green-600 font-medium' : 'text-gray-500'\n              }`}>\n                情報入力\n              </span>\n            </div>\n            \n            <div className=\"flex flex-col items-center\">\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                step >= 3 ? 'bg-green-500' : 'bg-gray-300'\n              }`}>\n                <div className=\"w-3 h-3 bg-white rounded-full\"></div>\n              </div>\n              <span className={`text-xs mt-1 ${\n                step >= 3 ? 'text-green-600 font-medium' : 'text-gray-500'\n              }`}>\n                確認\n              </span>\n            </div>\n            \n            <div className=\"flex flex-col items-center\">\n              <div className={`w-8 h-8 rounded-full flex items-center justify-center ${\n                step >= 4 ? 'bg-green-500' : 'bg-gray-300'\n              }`}>\n                <div className=\"w-3 h-3 bg-white rounded-full\"></div>\n              </div>\n              <span className={`text-xs mt-1 ${\n                step >= 4 ? 'text-green-600 font-medium' : 'text-gray-500'\n              }`}>\n                完了\n              </span>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* メインコンテンツ */}\n      <div className=\"px-4 pb-20\">\n        {/* ステップ1: 日程選択 */}\n        {step === 1 && (\n          <div className=\"space-y-4\">\n            {/* 週選択 */}\n            <div className=\"bg-green-500 text-white rounded-lg px-4 py-3 flex items-center justify-between\">\n              <button onClick={goToPreviousWeek} className=\"p-1\">\n                <ChevronLeftIcon className=\"w-5 h-5\" />\n              </button>\n              <span className=\"font-medium\">{getWeekText(weekDates)}</span>\n              <button onClick={goToNextWeek} className=\"p-1\">\n                <ChevronRightIcon className=\"w-5 h-5\" />\n              </button>\n            </div>\n\n            {/* カレンダーグリッド */}\n            <div className=\"bg-white rounded-lg shadow-sm\">\n              {/* 曜日・日付ヘッダー */}\n              <div className=\"grid grid-cols-8 border-b border-gray-200\">\n                <div className=\"p-3\"></div>\n                {weekDates.map((date, index) => (\n                  <div \n                    key={index} \n                    className={`p-3 text-center border-r border-gray-200 last:border-r-0 ${\n                      date.getDay() === 6 ? 'bg-blue-50' : \n                      date.getDay() === 0 ? 'bg-red-50' : \n                      'bg-gray-50'\n                    }`}\n                  >\n                    <div className={`text-xs font-medium ${\n                      date.getDay() === 6 ? 'text-blue-600' : \n                      date.getDay() === 0 ? 'text-red-600' : \n                      'text-gray-600'\n                    }`}>\n                      {getDayName(date)}\n                    </div>\n                    <div className={`text-lg font-bold mt-1 ${\n                      date.getDay() === 6 ? 'text-blue-600' : \n                      date.getDay() === 0 ? 'text-red-600' : \n                      'text-gray-900'\n                    }`}>\n                      {date.getDate()}\n                    </div>\n                  </div>\n                ))}\n              </div>\n\n              {/* 時間グリッド */}\n              {timeSlots.map((time, timeIndex) => (\n                <div key={time} className=\"grid grid-cols-8 border-b border-gray-200 last:border-b-0\">\n                  <div className=\"p-3 text-center font-medium text-gray-600 bg-gray-50 border-r border-gray-200\">\n                    {time}\n                  </div>\n                                     {weekDates.map((date, dateIndex) => {\n                     const dateStr = date.toISOString().split('T')[0];\n                     const status = bookingStatuses[dateStr]?.[time] || 'available';\n                     const isSelected = selectedDate && selectedTime && \n                                      selectedDate.toDateString() === date.toDateString() && \n                                      selectedTime === time;\n                     \n                     return (\n                       <button\n                         key={`${dateIndex}-${timeIndex}`}\n                         onClick={() => handleTimeSlotClick(date, time)}\n                         className={`p-3 border-r border-gray-200 last:border-r-0 flex items-center justify-center ${\n                           isSelected ? 'bg-green-500' : 'hover:bg-gray-50'\n                         }`}\n                         disabled={status === 'unavailable' || status === 'full'}\n                       >\n                         {status === 'available' || status === 'partial' ? (\n                           <div className={`w-8 h-8 rounded-full border-2 flex items-center justify-center ${\n                             isSelected ? 'bg-white border-white' : 'border-green-500'\n                           }`}>\n                             {isSelected && <div className=\"w-4 h-4 bg-green-500 rounded-full\"></div>}\n                           </div>\n                         ) : (\n                           <div className=\"w-8 h-8 flex items-center justify-center\">\n                             <XMarkIcon className=\"w-5 h-5 text-gray-400\" />\n                           </div>\n                         )}\n                       </button>\n                     );\n                   })}\n                </div>\n              ))}\n            </div>\n          </div>\n        )}\n\n        {/* ステップ2: 情報入力 */}\n        {step === 2 && (\n          <div className=\"space-y-4\">\n            <div className=\"bg-white rounded-lg p-4\">\n              <h2 className=\"text-lg font-medium mb-4\">お客様情報</h2>\n              \n              {/* 選択された日時 */}\n              <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\">\n                <div className=\"text-green-800\">\n                  <div className=\"font-medium\">\n                    📅 {selectedDate?.toLocaleDateString('ja-JP', { \n                      year: 'numeric', \n                      month: 'long', \n                      day: 'numeric', \n                      weekday: 'short' \n                    })}\n                  </div>\n                  <div className=\"text-sm mt-1\">\n                    🕐 {selectedTime}\n                  </div>\n                </div>\n              </div>\n\n              <form onSubmit={handleSubmit(onSubmit)} className=\"space-y-4\">\n                <div>\n                  <label className=\"block text-sm font-medium text-gray-700 mb-2\">\n                    お名前 <span className=\"text-red-500\">*</span>\n                  </label>\n                  <input\n                    type=\"text\"\n                    {...register('customerName', {\n                      required: 'お名前を入力してください',\n                      minLength: { value: 1, message: 'お名前を入力してください' },\n                      maxLength: { value: 50, message: 'お名前は50文字以内で入力してください' }\n                    })}\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    placeholder=\"山田 太郎\"\n                  />\n                  {errors.customerName && (\n                    <p className=\"text-red-500 text-xs mt-1\">\n                      {errors.customerName.message}\n                    </p>\n                  )}\n                </div>\n              </form>\n            </div>\n          </div>\n        )}\n\n        {/* ステップ4: 完了 */}\n        {step === 4 && bookingResult && (\n          <div className=\"space-y-4\">\n            <div className=\"bg-white rounded-lg p-6 text-center\">\n              {bookingResult.success ? (\n                <>\n                  <div className=\"text-green-600 mb-4\">\n                    <svg className=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M5 13l4 4L19 7\" />\n                    </svg>\n                  </div>\n                  <h2 className=\"text-xl font-bold mb-4\">予約が完了しました！</h2>\n                  <div className=\"bg-green-50 border border-green-200 rounded-lg p-4 mb-4\">\n                    <div className=\"text-green-800\">\n                      <div className=\"font-medium\">\n                        📅 {selectedDate?.toLocaleDateString('ja-JP', { \n                          year: 'numeric', \n                          month: 'long', \n                          day: 'numeric', \n                          weekday: 'short' \n                        })}\n                      </div>\n                      <div className=\"text-sm mt-1\">🕐 {selectedTime}</div>\n                      <div className=\"text-sm mt-1\">👤 {bookingResult.customerName}</div>\n                    </div>\n                  </div>\n                  <p className=\"text-gray-600 text-sm mb-4\">\n                    予約が確定いたしました。<br />\n                    当日は時間に余裕を持ってお越しください。\n                  </p>\n                </>\n              ) : (\n                <>\n                  <div className=\"text-red-600 mb-4\">\n                    <svg className=\"w-16 h-16 mx-auto\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                      <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                    </svg>\n                  </div>\n                  <h2 className=\"text-xl font-bold mb-4\">予約に失敗しました</h2>\n                  <p className=\"text-red-600 text-sm mb-4\">{bookingResult.error}</p>\n                </>\n              )}\n            </div>\n          </div>\n        )}\n      </div>\n\n      {/* 固定ボタン */}\n      <div className=\"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4\">\n        {step === 1 && (\n          <button\n            onClick={goToNextStep}\n            disabled={!selectedDate || !selectedTime}\n            className={`w-full py-3 rounded-lg font-medium ${\n              selectedDate && selectedTime\n                ? 'bg-green-500 text-white hover:bg-green-600'\n                : 'bg-gray-300 text-gray-500 cursor-not-allowed'\n            }`}\n          >\n            次へ\n          </button>\n        )}\n        \n        {step === 2 && (\n          <div className=\"flex space-x-3\">\n            <button\n              onClick={goToPreviousStep}\n              className=\"flex-1 py-3 border border-gray-300 rounded-lg font-medium text-gray-700 hover:bg-gray-50\"\n            >\n              戻る\n            </button>\n            <button\n              onClick={handleSubmit(onSubmit)}\n              disabled={isSubmitting}\n              className=\"flex-1 py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600 disabled:opacity-50\"\n            >\n              {isSubmitting ? '予約中...' : '予約する'}\n            </button>\n          </div>\n        )}\n        \n        {step === 4 && (\n          <button\n            onClick={handleRestart}\n            className=\"w-full py-3 bg-green-500 text-white rounded-lg font-medium hover:bg-green-600\"\n          >\n            新しい予約を作成する\n          </button>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default BookingForm; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}