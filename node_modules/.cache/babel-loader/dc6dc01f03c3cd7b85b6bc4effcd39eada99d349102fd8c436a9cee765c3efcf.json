{"ast":null,"code":"var _jsxFileName = \"/Users/koukikaida/Desktop/booking/src/components/booking/CalendarView.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useMemo } from 'react';\nimport { ChevronLeftIcon, ChevronRightIcon } from '@heroicons/react/24/outline';\nimport { generateWeekDates, getPreviousWeek, getNextWeek, formatWeekHeader, getWeekdayJP, formatDateString, isBookableDate, isBookableTime, isBusinessDay, getDayName } from '../../utils/dateUtils';\nimport { useBookings } from '../../hooks/useBookings';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CalendarView = ({\n  selectedDate,\n  selectedTime,\n  onDateTimeSelect,\n  mode = 'booking' // 'booking' or 'admin'\n}) => {\n  _s();\n  const [currentWeekStart, setCurrentWeekStart] = useState(new Date());\n  const [timeSlotBookings, setTimeSlotBookings] = useState({});\n  const {\n    businessHours,\n    getBookingStatus,\n    generateTimeSlots\n  } = useBookings();\n\n  // 現在の週の日付配列を生成\n  const weekDates = useMemo(() => {\n    return generateWeekDates(currentWeekStart);\n  }, [currentWeekStart]);\n\n  // 営業時間から時間枠を生成\n  const timeSlots = useMemo(() => {\n    if (!businessHours) return [];\n\n    // 全曜日の営業時間から最大の時間範囲を取得\n    let earliestOpen = '24:00';\n    let latestClose = '00:00';\n    Object.values(businessHours).forEach(dayHours => {\n      if (!dayHours.closed) {\n        if (dayHours.open < earliestOpen) earliestOpen = dayHours.open;\n        if (dayHours.close > latestClose) latestClose = dayHours.close;\n      }\n    });\n    if (earliestOpen === '24:00') return [];\n    return generateTimeSlots(earliestOpen, latestClose);\n  }, [businessHours, generateTimeSlots]);\n\n  // 各時間枠の予約状況を取得\n  useEffect(() => {\n    if (!timeSlots.length || !weekDates.length) return;\n    const loadBookingStatuses = async () => {\n      const statusMap = {};\n      for (const date of weekDates) {\n        const dateStr = formatDateString(date);\n        statusMap[dateStr] = {};\n        for (const time of timeSlots) {\n          if (isBusinessDay(date, businessHours || {}) && isBookableDate(date) && isBookableTime(date, time)) {\n            const status = await getBookingStatus(date, time);\n            statusMap[dateStr][time] = status;\n          } else {\n            statusMap[dateStr][time] = 'disabled';\n          }\n        }\n      }\n      setTimeSlotBookings(statusMap);\n    };\n    loadBookingStatuses();\n  }, [weekDates, timeSlots, businessHours, getBookingStatus]);\n\n  // 週切り替え\n  const goToPreviousWeek = () => {\n    setCurrentWeekStart(prev => getPreviousWeek(prev));\n  };\n  const goToNextWeek = () => {\n    setCurrentWeekStart(prev => getNextWeek(prev));\n  };\n\n  // 日付・時間選択ハンドラ\n  const handleTimeSlotClick = (date, time) => {\n    var _timeSlotBookings$dat;\n    const dateStr = formatDateString(date);\n    const status = (_timeSlotBookings$dat = timeSlotBookings[dateStr]) === null || _timeSlotBookings$dat === void 0 ? void 0 : _timeSlotBookings$dat[time];\n    if (status === 'disabled' || status === 'full') return;\n    onDateTimeSelect === null || onDateTimeSelect === void 0 ? void 0 : onDateTimeSelect(date, time);\n  };\n\n  // 時間枠のスタイルクラスを取得\n  const getTimeSlotClass = (date, time) => {\n    var _timeSlotBookings$dat2;\n    const dateStr = formatDateString(date);\n    const status = (_timeSlotBookings$dat2 = timeSlotBookings[dateStr]) === null || _timeSlotBookings$dat2 === void 0 ? void 0 : _timeSlotBookings$dat2[time];\n    const isSelected = selectedDate && selectedTime && formatDateString(selectedDate) === dateStr && selectedTime === time;\n    let baseClasses = 'calendar-cell text-xs font-medium transition-all duration-200 relative';\n    if (isSelected) {\n      baseClasses += ' ring-2 ring-salon-500 bg-salon-500 text-white';\n    } else {\n      switch (status) {\n        case 'available':\n          baseClasses += ' calendar-cell-available hover:bg-salon-200';\n          break;\n        case 'partial':\n          baseClasses += ' calendar-cell-partial hover:bg-yellow-200';\n          break;\n        case 'full':\n          baseClasses += ' calendar-cell-full';\n          break;\n        case 'disabled':\n        default:\n          baseClasses += ' calendar-cell-disabled';\n          break;\n      }\n    }\n    return baseClasses;\n  };\n\n  // 予約数表示\n  const getBookingCountDisplay = (date, time) => {\n    var _timeSlotBookings$dat3;\n    const dateStr = formatDateString(date);\n    const status = (_timeSlotBookings$dat3 = timeSlotBookings[dateStr]) === null || _timeSlotBookings$dat3 === void 0 ? void 0 : _timeSlotBookings$dat3[time];\n    if (status === 'disabled' || status === 'available') return null;\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"absolute top-0 right-0 text-xs bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px]\",\n      children: status === 'partial' ? '1-2' : '3'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this);\n  };\n  if (!businessHours) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-gray-500\",\n        children: \"\\u55B6\\u696D\\u6642\\u9593\\u3092\\u8AAD\\u307F\\u8FBC\\u307F\\u4E2D...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"bg-white rounded-lg shadow-sm border border-gray-200\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-salon-500 text-white px-4 py-3 rounded-t-lg\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToPreviousWeek,\n          className: \"p-1 hover:bg-salon-600 rounded transition-colors duration-200\",\n          children: /*#__PURE__*/_jsxDEV(ChevronLeftIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 160,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-lg font-semibold\",\n          children: formatWeekHeader(weekDates[0], weekDates[6])\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: goToNextWeek,\n          className: \"p-1 hover:bg-salon-600 rounded transition-colors duration-200\",\n          children: /*#__PURE__*/_jsxDEV(ChevronRightIcon, {\n            className: \"w-5 h-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 159,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"overflow-x-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"min-w-[640px]\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-8 border-b border-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 text-center text-sm font-medium text-gray-600 bg-gray-50\",\n            children: \"\\u6642\\u9593\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this), weekDates.map((date, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `p-3 text-center text-sm font-medium border-r border-gray-200 ${index === 5 ? 'bg-blue-50 text-blue-700' :\n            // 土曜日\n            index === 6 ? 'bg-red-50 text-red-700' :\n            // 日曜日\n            'bg-gray-50 text-gray-700'}`,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-semibold\",\n              children: getWeekdayJP(date)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 197,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs mt-1\",\n              children: [date.getMonth() + 1, \"/\", date.getDate()]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 17\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 184,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"divide-y divide-gray-200\",\n          children: timeSlots.map(time => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-8\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-3 text-center text-sm font-medium text-gray-600 bg-gray-50 border-r border-gray-200\",\n              children: time\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 210,\n              columnNumber: 17\n            }, this), weekDates.map((date, dayIndex) => {\n              var _timeSlotBookings$for, _timeSlotBookings$for2;\n              return /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleTimeSlotClick(date, time),\n                className: getTimeSlotClass(date, time),\n                disabled: ((_timeSlotBookings$for = timeSlotBookings[formatDateString(date)]) === null || _timeSlotBookings$for === void 0 ? void 0 : _timeSlotBookings$for[time]) === 'disabled' || ((_timeSlotBookings$for2 = timeSlotBookings[formatDateString(date)]) === null || _timeSlotBookings$for2 === void 0 ? void 0 : _timeSlotBookings$for2[time]) === 'full',\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"sr-only\",\n                  children: [formatDateString(date), \" \", time]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 225,\n                  columnNumber: 21\n                }, this), getBookingCountDisplay(date, time)]\n              }, `${formatDateString(date)}-${time}`, true, {\n                fileName: _jsxFileName,\n                lineNumber: 216,\n                columnNumber: 19\n              }, this);\n            })]\n          }, time, true, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 182,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 bg-gray-50 rounded-b-lg border-t border-gray-200\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap gap-4 text-xs\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-salon-100 border border-salon-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"\\u7A7A\\u304D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 240,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 245,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"\\u4E00\\u90E8\\u7A7A\\u304D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 244,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-red-100 border border-red-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"\\u6E80\\u5E2D\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 248,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-4 h-4 bg-gray-100 border border-gray-300 rounded\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-gray-600\",\n            children: \"\\u5229\\u7528\\u4E0D\\u53EF\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 239,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n};\n_s(CalendarView, \"KvDxeEYhEh4wEevLXY2Kv2zCcHc=\", false, function () {\n  return [useBookings];\n});\n_c = CalendarView;\nexport default CalendarView;\nvar _c;\n$RefreshReg$(_c, \"CalendarView\");","map":{"version":3,"names":["React","useState","useEffect","useMemo","ChevronLeftIcon","ChevronRightIcon","generateWeekDates","getPreviousWeek","getNextWeek","formatWeekHeader","getWeekdayJP","formatDateString","isBookableDate","isBookableTime","isBusinessDay","getDayName","useBookings","jsxDEV","_jsxDEV","CalendarView","selectedDate","selectedTime","onDateTimeSelect","mode","_s","currentWeekStart","setCurrentWeekStart","Date","timeSlotBookings","setTimeSlotBookings","businessHours","getBookingStatus","generateTimeSlots","weekDates","timeSlots","earliestOpen","latestClose","Object","values","forEach","dayHours","closed","open","close","length","loadBookingStatuses","statusMap","date","dateStr","time","status","goToPreviousWeek","prev","goToNextWeek","handleTimeSlotClick","_timeSlotBookings$dat","getTimeSlotClass","_timeSlotBookings$dat2","isSelected","baseClasses","getBookingCountDisplay","_timeSlotBookings$dat3","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","map","index","getMonth","getDate","dayIndex","_timeSlotBookings$for","_timeSlotBookings$for2","disabled","_c","$RefreshReg$"],"sources":["/Users/koukikaida/Desktop/booking/src/components/booking/CalendarView.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo } from 'react';\nimport { ChevronLeftIcon, ChevronRightIcon } from '@heroicons/react/24/outline';\nimport { \n  generateWeekDates, \n  getPreviousWeek, \n  getNextWeek, \n  formatWeekHeader,\n  getWeekdayJP,\n  formatDateString,\n  isBookableDate,\n  isBookableTime,\n  isBusinessDay,\n  getDayName\n} from '../../utils/dateUtils';\nimport { useBookings } from '../../hooks/useBookings';\n\nconst CalendarView = ({ \n  selectedDate, \n  selectedTime, \n  onDateTimeSelect, \n  mode = 'booking' // 'booking' or 'admin'\n}) => {\n  const [currentWeekStart, setCurrentWeekStart] = useState(new Date());\n  const [timeSlotBookings, setTimeSlotBookings] = useState({});\n  const { businessHours, getBookingStatus, generateTimeSlots } = useBookings();\n\n  // 現在の週の日付配列を生成\n  const weekDates = useMemo(() => {\n    return generateWeekDates(currentWeekStart);\n  }, [currentWeekStart]);\n\n  // 営業時間から時間枠を生成\n  const timeSlots = useMemo(() => {\n    if (!businessHours) return [];\n    \n    // 全曜日の営業時間から最大の時間範囲を取得\n    let earliestOpen = '24:00';\n    let latestClose = '00:00';\n    \n    Object.values(businessHours).forEach(dayHours => {\n      if (!dayHours.closed) {\n        if (dayHours.open < earliestOpen) earliestOpen = dayHours.open;\n        if (dayHours.close > latestClose) latestClose = dayHours.close;\n      }\n    });\n    \n    if (earliestOpen === '24:00') return [];\n    \n    return generateTimeSlots(earliestOpen, latestClose);\n  }, [businessHours, generateTimeSlots]);\n\n  // 各時間枠の予約状況を取得\n  useEffect(() => {\n    if (!timeSlots.length || !weekDates.length) return;\n\n    const loadBookingStatuses = async () => {\n      const statusMap = {};\n      \n      for (const date of weekDates) {\n        const dateStr = formatDateString(date);\n        statusMap[dateStr] = {};\n        \n        for (const time of timeSlots) {\n          if (isBusinessDay(date, businessHours || {}) && \n              isBookableDate(date) && \n              isBookableTime(date, time)) {\n            const status = await getBookingStatus(date, time);\n            statusMap[dateStr][time] = status;\n          } else {\n            statusMap[dateStr][time] = 'disabled';\n          }\n        }\n      }\n      \n      setTimeSlotBookings(statusMap);\n    };\n\n    loadBookingStatuses();\n  }, [weekDates, timeSlots, businessHours, getBookingStatus]);\n\n  // 週切り替え\n  const goToPreviousWeek = () => {\n    setCurrentWeekStart(prev => getPreviousWeek(prev));\n  };\n\n  const goToNextWeek = () => {\n    setCurrentWeekStart(prev => getNextWeek(prev));\n  };\n\n  // 日付・時間選択ハンドラ\n  const handleTimeSlotClick = (date, time) => {\n    const dateStr = formatDateString(date);\n    const status = timeSlotBookings[dateStr]?.[time];\n    \n    if (status === 'disabled' || status === 'full') return;\n    \n    onDateTimeSelect?.(date, time);\n  };\n\n  // 時間枠のスタイルクラスを取得\n  const getTimeSlotClass = (date, time) => {\n    const dateStr = formatDateString(date);\n    const status = timeSlotBookings[dateStr]?.[time];\n    const isSelected = selectedDate && selectedTime && \n                       formatDateString(selectedDate) === dateStr && \n                       selectedTime === time;\n\n    let baseClasses = 'calendar-cell text-xs font-medium transition-all duration-200 relative';\n    \n    if (isSelected) {\n      baseClasses += ' ring-2 ring-salon-500 bg-salon-500 text-white';\n    } else {\n      switch (status) {\n        case 'available':\n          baseClasses += ' calendar-cell-available hover:bg-salon-200';\n          break;\n        case 'partial':\n          baseClasses += ' calendar-cell-partial hover:bg-yellow-200';\n          break;\n        case 'full':\n          baseClasses += ' calendar-cell-full';\n          break;\n        case 'disabled':\n        default:\n          baseClasses += ' calendar-cell-disabled';\n          break;\n      }\n    }\n    \n    return baseClasses;\n  };\n\n  // 予約数表示\n  const getBookingCountDisplay = (date, time) => {\n    const dateStr = formatDateString(date);\n    const status = timeSlotBookings[dateStr]?.[time];\n    \n    if (status === 'disabled' || status === 'available') return null;\n    \n    return (\n      <span className=\"absolute top-0 right-0 text-xs bg-red-500 text-white rounded-full w-4 h-4 flex items-center justify-center text-[10px]\">\n        {status === 'partial' ? '1-2' : '3'}\n      </span>\n    );\n  };\n\n  if (!businessHours) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"text-gray-500\">営業時間を読み込み中...</div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"bg-white rounded-lg shadow-sm border border-gray-200\">\n      {/* カレンダーヘッダー */}\n      <div className=\"bg-salon-500 text-white px-4 py-3 rounded-t-lg\">\n        <div className=\"flex items-center justify-between\">\n          <button\n            onClick={goToPreviousWeek}\n            className=\"p-1 hover:bg-salon-600 rounded transition-colors duration-200\"\n          >\n            <ChevronLeftIcon className=\"w-5 h-5\" />\n          </button>\n          \n          <h2 className=\"text-lg font-semibold\">\n            {formatWeekHeader(weekDates[0], weekDates[6])}\n          </h2>\n          \n          <button\n            onClick={goToNextWeek}\n            className=\"p-1 hover:bg-salon-600 rounded transition-colors duration-200\"\n          >\n            <ChevronRightIcon className=\"w-5 h-5\" />\n          </button>\n        </div>\n      </div>\n\n      {/* カレンダー本体 */}\n      <div className=\"overflow-x-auto\">\n        <div className=\"min-w-[640px]\">\n          {/* 曜日ヘッダー */}\n          <div className=\"grid grid-cols-8 border-b border-gray-200\">\n            <div className=\"p-3 text-center text-sm font-medium text-gray-600 bg-gray-50\">\n              時間\n            </div>\n            {weekDates.map((date, index) => (\n              <div\n                key={index}\n                className={`p-3 text-center text-sm font-medium border-r border-gray-200 ${\n                  index === 5 ? 'bg-blue-50 text-blue-700' : // 土曜日\n                  index === 6 ? 'bg-red-50 text-red-700' :   // 日曜日\n                  'bg-gray-50 text-gray-700'\n                }`}\n              >\n                <div className=\"font-semibold\">{getWeekdayJP(date)}</div>\n                <div className=\"text-xs mt-1\">\n                  {date.getMonth() + 1}/{date.getDate()}\n                </div>\n              </div>\n            ))}\n          </div>\n\n          {/* 時間枠グリッド */}\n          <div className=\"divide-y divide-gray-200\">\n            {timeSlots.map((time) => (\n              <div key={time} className=\"grid grid-cols-8\">\n                {/* 時間ラベル */}\n                <div className=\"p-3 text-center text-sm font-medium text-gray-600 bg-gray-50 border-r border-gray-200\">\n                  {time}\n                </div>\n                \n                {/* 各日の時間枠 */}\n                {weekDates.map((date, dayIndex) => (\n                  <button\n                    key={`${formatDateString(date)}-${time}`}\n                    onClick={() => handleTimeSlotClick(date, time)}\n                    className={getTimeSlotClass(date, time)}\n                    disabled={\n                      timeSlotBookings[formatDateString(date)]?.[time] === 'disabled' ||\n                      timeSlotBookings[formatDateString(date)]?.[time] === 'full'\n                    }\n                  >\n                    <span className=\"sr-only\">\n                      {formatDateString(date)} {time}\n                    </span>\n                    {getBookingCountDisplay(date, time)}\n                  </button>\n                ))}\n              </div>\n            ))}\n          </div>\n        </div>\n      </div>\n\n      {/* 凡例 */}\n      <div className=\"p-4 bg-gray-50 rounded-b-lg border-t border-gray-200\">\n        <div className=\"flex flex-wrap gap-4 text-xs\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-salon-100 border border-salon-300 rounded\"></div>\n            <span className=\"text-gray-600\">空き</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-yellow-100 border border-yellow-300 rounded\"></div>\n            <span className=\"text-gray-600\">一部空き</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-red-100 border border-red-300 rounded\"></div>\n            <span className=\"text-gray-600\">満席</span>\n          </div>\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-4 h-4 bg-gray-100 border border-gray-300 rounded\"></div>\n            <span className=\"text-gray-600\">利用不可</span>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default CalendarView; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}